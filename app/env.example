# ---------------------------------------
# options that may evolve more frequently
# ---------------------------------------

# what origins (serving experiments) are allowed to use DuckSoup
DUCKSOUP_ALLOWED_WS_ORIGINS=http://localhost:8100,http://localhost:8180

# set to true to use nvcodec (needs correctly set up NVIDIA GPU)
DUCKSOUP_NVCODEC=false

# DuckSoup runtime options
DUCKSOUP_GENERATE_TWCC=true
DUCKSOUP_GCC=true
DUCKSOUP_GST_TRACKING=true
DUCKSOUP_LOG_STDOUT=true
DUCKSOUP_LOG_FILE=log/ducksoup.log
DUCKSOUP_LOG_LEVEL=3
DUCKSOUP_FORCE_OVERLAY=false
DUCKSOUP_CONTAINER_STDERR_FILE=log/ducksoup.stderr.log
GST_DEBUG=2,videodecoder:1
GST_DEBUG_FILE=log/gstreamer.log
#PION_LOG_TRACE=ice

# use the following STUN servers (or set to false) for ICE candidates gathering
DUCKSOUP_ICE_SERVERS=stun:stun.l.google.com:19302,stun:stun3.l.google.com:19302

# oTree experiment runtime options (how to use DuckSoup)
OTREE_DUCKSOUP_REQUEST_GPU=false
OTREE_DUCKSOUP_FRAMERATE=30
OTREE_DUCKSOUP_WIDTH=800
OTREE_DUCKSOUP_HEIGHT=600
OTREE_DUCKSOUP_FORMAT=H264

# -----------------------------------------------
# more stable configuration (linking and secrets)
# -----------------------------------------------

# main container user
DOCKER_UNAME=deploy
DOCKER_UID=1001
DOCKER_GID=1001

# used by "ducksoup" service
DUCKSOUP_PORT=8100
#DUCKSOUP_WEB_PREFIX=/path
#DUCKSOUP_PUBLIC_IP=...
DUCKSOUP_TEST_LOGIN=change_me
DUCKSOUP_TEST_PASSWORD=change_me

# used by "db" service
POSTGRES_USER=experiment
POSTGRES_PASSWORD=pg_password_change_me

# used by "experiment" service
OTREE_PORT=8180
OTREE_ADMIN_PASSWORD=change_me
OTREE_REST_KEY=otree_key_change_me
# connection to other services
OTREE_DATABASE_URL="postgres://experiment:pg_password_change_me@db/experiment"
OTREE_DUCKSOUP_URL=http://localhost:8100

# used by "mastok" service
MASTOK_PORT=8190
MASTOK_ORIGIN=http://localhost:8190
#MASTOK_WEB_PREFIX=/path
MASTOK_LOGIN=change_me
MASTOK_PASSWORD=change_me
# connection to other services
MASTOK_DATABASE_URL="postgres://experiment:pg_password_change_me@db/mastok"
MASTOK_OTREE_PUBLIC_URL=http://host.com
MASTOK_OTREE_API_URL=http://localhost:8180
MASTOK_OTREE_API_KEY=otree_key_change_me

# used by grafana
GF_PORT=3000
GF_PATH=/grafana
GF_PASSWORD=change_me